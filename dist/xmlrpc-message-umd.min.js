/** xmlrpc-message-umd 0.1.1 
 * 2014-02-21
 */

!function(window,factory){"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?module.exports=factory():window.returnExports=factory()}(this,function(){var XMLRPCMessage=function(){return this.params=[],this};XMLRPCMessage.prototype.setMethod=function(methodName){methodName&&(this.method=methodName)},XMLRPCMessage.prototype.addParameter=function(data){0!==arguments.length&&(this.params[this.params.length]=data)},XMLRPCMessage.prototype.xml=function(){var method=this.method,xml="";xml+="<?xml version='1.0'?>\n",xml+="<methodCall>\n",xml+="<methodName>"+method+"</methodName>\n",xml+="<params>\n";for(var i=0;i<this.params.length;i++){var data=this.params[i];xml+="<param>\n",xml+="<value>"+XMLRPCMessage.getParamXML(XMLRPCMessage.dataTypeOf(data),data)+"</value>\n",xml+="</param>\n"}return xml+="</params>\n",xml+="</methodCall>"},XMLRPCMessage.dataTypeOf=function(o){var type=typeof o;switch(type=type.toLowerCase()){case"number":type=Math.round(o)===o?"i4":"double";break;case"object":var con=o.constructor;type=con===Date?"date":con===Array?"array":"struct"}return type},XMLRPCMessage.doValueXML=function(type,data){var xml="<"+type+">"+data+"</"+type+">";return xml},XMLRPCMessage.doBooleanXML=function(data){var value=data===!0?1:0,xml="<boolean>"+value+"</boolean>";return xml},XMLRPCMessage.doDateXML=function(data){var xml="<dateTime.iso8601>";return xml+=dateToISO8601(data),xml+="</dateTime.iso8601>"},XMLRPCMessage.doArrayXML=function(data){for(var xml="<array><data>\n",i=0;i<data.length;i++)xml+="<value>"+XMLRPCMessage.getParamXML(XMLRPCMessage.dataTypeOf(data[i]),data[i])+"</value>\n";return xml+="</data></array>\n"},XMLRPCMessage.doStructXML=function(data){var xml="<struct>\n";for(var i in data)xml+="<member>\n",xml+="<name>"+i+"</name>\n",xml+="<value>"+XMLRPCMessage.getParamXML(XMLRPCMessage.dataTypeOf(data[i]),data[i])+"</value>\n",xml+="</member>\n";return xml+="</struct>\n"},XMLRPCMessage.getParamXML=function(type,data){var xml;switch(type){case"date":xml=XMLRPCMessage.doDateXML(data);break;case"array":xml=XMLRPCMessage.doArrayXML(data);break;case"struct":xml=XMLRPCMessage.doStructXML(data);break;case"boolean":xml=XMLRPCMessage.doBooleanXML(data);break;default:xml=XMLRPCMessage.doValueXML(type,data)}return xml};var dateToISO8601=function(date){var year=date.getYear().toString(),month=leadingZero(date.getMonth().toString()),day=leadingZero(date.getDate().toString()),time=leadingZero(date.getHours().toString())+":"+leadingZero(date.getMinutes().toString())+":"+leadingZero(date.getSeconds().toString()),converted=year+month+day+"T"+time;return converted},leadingZero=function(n){return 1===n.length&&(n="0"+n),n};return XMLRPCMessage});
//# sourceMappingURL=xmlrpc-message-umd.min.map